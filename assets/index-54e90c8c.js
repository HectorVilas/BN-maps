(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();async function d(r){const o=await(await fetch(r)).json(),s={width:o[0].object.rows[0].length,height:o[0].object.rows.length,floors:[]},e=[];return o.forEach(t=>{e.includes(t.om_terrain)||e.push(t.om_terrain)}),e.forEach(()=>s.floors.push([])),o.forEach(t=>{const a=e.indexOf(t.om_terrain);s.floors[a].push(t)}),s}function p(r,n,o){const s=document.createElement("div");for(let e=0;e<r.height;e+=1){const t=document.createElement("div");t.classList.add("row");for(let a=0;a<r.width;a+=1){const c=document.createElement("div");c.classList.add("tile"),c.dataset.x=a,c.dataset.y=e,c.textContent=`${r.floors[n][o].object.rows[e][a]}`,t.append(c)}s.append(t)}return s}let i;async function u(r){i=await d(r);const n=document.createElement("section"),o=document.createElement("div");return o.id="map-viewer",o.append(p(i,0,0)),n.append(o),n}const l=document.querySelector("#app");function m(){const r=document.createElement("main"),n=document.createElement("h1");n.textContent="BN Maps";const o=document.createElement("ul");return["./json/mapgen/house/2storymodern01.json","./json/mapgen/house/bungalow01.json","./json/mapgen/house/garden_house_1.json","./json/mapgen/house/house_garage_prepper.json","./json/mapgen/house/urban_1_house.json"].forEach(e=>{const t=document.createElement("li");t.textContent=e.split("/").at(-1).split(".json").at(0),t.addEventListener("click",async()=>{l.replaceChildren(await u(e))}),o.append(t)}),r.append(n,o),r}const f=document.querySelector("#app");f.append(m());
